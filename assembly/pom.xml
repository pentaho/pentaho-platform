<?xml version="1.0" encoding="UTF-8"?>
<!--
   Apache Maven 2 POM generated by Apache Ivy
   http://ant.apache.org/ivy/
   Apache Ivy version: 2.4.0 20141213170938
-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">

  <modelVersion>4.0.0</modelVersion>

  <parent>
    <groupId>pentaho</groupId>
    <artifactId>pentaho-platform-ce-parent</artifactId>
       <relativePath>../pom.xml</relativePath>
    <version>7.1-SNAPSHOT</version>
  </parent>

  <artifactId>pentaho-platform-assembly</artifactId>
  <packaging>pom</packaging>

  <properties>
    
    <package.id>pentaho-server</package.id>
    <target.dir>${project.build.directory}</target.dir> <!-- same as ${basedir}/target -->
    <target.pentaho-server.dir>${target.dir}/${package.id}</target.pentaho-server.dir> <!-- where the server will get assembled -->

    <target.pentaho-server.solutions.dir>${target.pentaho-server.dir}/pentaho-solutions</target.pentaho-server.solutions.dir>
    <target.pentaho-server.samples.dir>${target.pentaho-server.solutions.dir}/plugin-samples</target.pentaho-server.samples.dir>
    <target.pentaho-server.system.dir>${target.pentaho-server.solutions.dir}/system</target.pentaho-server.system.dir>
      
    <target.pentaho-server.plugins.dir>${target.pentaho-server.system.dir}</target.pentaho-server.plugins.dir> 
    <target.pentaho-server.kettle.plugins.dir>${target.pentaho-server.system.dir}/kettle/plugins</target.pentaho-server.kettle.plugins.dir> 

    <plugins.dir>plugins</plugins.dir>
    <lib.dir>${project.build.directory}/lib</lib.dir>

    <replacer.version>1.5.2</replacer.version>
    <tomcat.major.version>8</tomcat.major.version>
    <tomcat.minor.version>0.37</tomcat.minor.version>
    <tomcat.version>${tomcat.major.version}.${tomcat.minor.version}</tomcat.version>
	<tomcat.dir>${target.dir}/apache-tomcat-${tomcat.version}</tomcat.dir>
    <prep.pentaho.war.dir>${target.pentaho-server.dir}/tomcat/webapps/pentaho</prep.pentaho.war.dir>
	<prep.pentaho.war.lib.dir>${prep.pentaho.war.dir}/WEB-INF/lib</prep.pentaho.war.lib.dir>
	<container.lib.dir>${target.pentaho-server.dir}/tomcat/lib</container.lib.dir>
	<solution.archives.dir>${project.build.directory}/solution-archives</solution.archives.dir>
    <datasource.res.dir>${basedir}/package-res/appserver/tomcat/res/datasources</datasource.res.dir>
    <prep.pentaho.style.war.dir>${target.pentaho-server.dir}/tomcat/webapps/pentaho-style</prep.pentaho.style.war.dir>
    <!-- Default database for open assembly is hsqldb -->
    <rdbms>hsqldb</rdbms>

	<!-- the impl properties are used to create the manifest file -->
    <impl.title>Pentaho BI Platform Community Edition</impl.title>
    <impl.vendor>Pentaho Corporation</impl.vendor>
    <impl.version>${project.version}</impl.version>

    <axis.version>1.4</axis.version>
    <batik-bridge.version>1.8</batik-bridge.version>
    <bsf.version>2.4.0</bsf.version>
    <bsh.version>1.3.0</bsh.version>
    <commons-beanutils.version>1.8.0</commons-beanutils.version>
    <jettison.version>1.3.3</jettison.version>
    <monetdb-jdbc.version>2.8</monetdb-jdbc.version>
    <nekohtml.version>1.9.15</nekohtml.version>
    <slf4j-api.version>1.7.7</slf4j-api.version>
    <slf4j-log4j12.version>1.7.7</slf4j-log4j12.version>
    <snakeyaml.version>1.13</snakeyaml.version>
    <wkhtmltoimage.version>0.10.0_rc2-static</wkhtmltoimage.version>
    <wkhtmltox.version>0.10.0_rc2</wkhtmltox.version>
    <wsdl4j.version>1.6.2</wsdl4j.version>
    <jackson.core.version>1.9.13</jackson.core.version>
    <jackson.mapper.version>${jackson.core.version}</jackson.mapper.version>
    <jcl-over-slf4j.version>1.7.4</jcl-over-slf4j.version>
    <commons-io.version>2.2</commons-io.version>
    <jackcess.version>1.2.6</jackcess.version>
    <mail.version>1.4.7</mail.version>
    <hibernate-ehcache.version>3.6.9.Final</hibernate-ehcache.version>
    <xmlgraphics-commons.version>1.5</xmlgraphics-commons.version>
  </properties>
  <modules>

    <module>pentaho-server-manual</module>
    <module>pentaho-server</module>

    <!-- <module>assembly</module> -->

  </modules>

  <build>
    <plugins>
      <!-- [START] unpack platform-plugins, kettle-plugins and pentaho-samples 
        into the proper locations -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-dependency-plugin</artifactId>
        <inherited>false</inherited>
        <executions>
          <execution>
            <id>unpack</id>
            <phase>package</phase>
            <goals>
              <goal>unpack</goal>
            </goals>

            <configuration>
              <artifactItems>

                <!-- [START] unpack platform-plugins into /pentaho-solutions/system -->
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>pdi-pur-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-cdf</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>cgg</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>cda</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-cdf-dd</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>sparkl</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-jpivot-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-karaf-assembly</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${project.build.directory}/temp</outputDirectory>
                  <classifier>server</classifier>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>common-ui</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>data-access-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-pdi-platform-plugin-package</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-reporting-engine</groupId>
                  <artifactId>pentaho-reporting-engine-classic-core-platform-plugin-package</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.plugins.dir}</outputDirectory>
                </artifactItem>
                <!-- [END] unpack platform-plugins into /pentaho-solutions/system -->

                <!-- [START] unpack kettle-plugins into /pentaho-solutions/system/kettle/plugins -->
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-big-data-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-cassandra-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-cassandra-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pdi-teradata-tpt-plugin-package</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pdi-platform-utils-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>pdi-pur-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-json-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-xml-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-sap-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>pdi-google-analytics-plugin-ce</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>pdi-salesforce-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>VerticaBulkLoader</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-s3csvinput-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-hl7-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>gp-bulk-loader-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-gpload-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>elasticsearch-bulk-insert-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-openerp-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-palo-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-shapefilereader-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>lucid-db-streaming-loader-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>kettle-drools5-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho-kettle</groupId>
                  <artifactId>ms-access-bulk-loader-plugin</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                 <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-big-data-plugin-samples</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.kettle.plugins.dir}</outputDirectory>
                </artifactItem>
                <!-- [END] unpack kettle-plugins into /pentaho-solutions/system/kettle/plugins -->

                <!-- [START] unpack pentaho-samples into /pentaho-solutions/plugin-samples -->
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-cdf-samples</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.samples.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>cda-samples</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.samples.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-cdf-dd-solution</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <outputDirectory>${target.pentaho-server.samples.dir}</outputDirectory>
                </artifactItem>
                <!-- [END] unpack pentaho-samples into /pentaho-solutions/plugin-samples -->
              </artifactItems>
              <overWriteReleases>false</overWriteReleases>
              <overWriteSnapshots>true</overWriteSnapshots>
            </configuration>
          </execution>
          <!-- [END] unpack platform-plugins, kettle-plugins and pentaho-samples 
            into the proper locations -->
          <!--  Downloading Tomcat -->  
          <execution>
            <id>unpack-tomcat</id>
            <phase>package</phase>
            <goals>
              <goal>unpack</goal>
            </goals>
            <configuration>
              <artifactItems>
                <artifactItem>
                  <groupId>org.apache.tomcat</groupId>
                  <artifactId>tomcat-windows-x64</artifactId>
                  <version>8.0.37</version>
                  <type>zip</type>
                  <overWrite>true</overWrite>
                  <outputDirectory>${target.dir}</outputDirectory>
                  <excludes>**/webapps/docs/**,**/webapps/examples/**,**/webapps/host-manager/**,**/webapps/manager/**,**/webapps/ROOT/**</excludes>
                </artifactItem>
                <!-- unpack user console zip -->
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>pentaho-user-console</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <overWrite>false</overWrite>
                  <outputDirectory>${prep.pentaho.war.dir}</outputDirectory>
                </artifactItem>
                <!-- OSS Licenses file -->
                <artifactItem>
                  <groupId>pentaho</groupId>
                  <artifactId>oss-licenses</artifactId>
                  <version>${project.version}</version>
                  <type>zip</type>
                  <overWrite>false</overWrite>
                  <outputDirectory>${target.pentaho-server.dir}/licenses</outputDirectory>
                  <includes>PentahoServer_OSS_Licenses.html</includes>
                </artifactItem>
                
              </artifactItems>
            </configuration>
          </execution>
          <!-- Copy Datasource Libraries to tomcat/lib  -->
          <execution>
            <id>copy-Datasource-libraries</id>
            <phase>package</phase>
            <goals>
              <goal>copy</goal>
            </goals>
            <configuration>
              <artifactItems>
                <artifactItem>
                  <groupId>commons-logging</groupId>
                  <artifactId>commons-logging</artifactId>
                  <version>${commons-logging.version}</version>
                  <overWrite>false</overWrite>
                  <outputDirectory>${container.lib.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>org.hsqldb</groupId>
                  <artifactId>hsqldb</artifactId>
                  <version>${hsqldb.version}</version>
                  <overWrite>false</overWrite>
                  <outputDirectory>${container.lib.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>mysql</groupId>
                  <artifactId>mysql-connector-java</artifactId>
                  <version>${mysql-connector-java.version}</version>
                  <overWrite>false</overWrite>
                  <outputDirectory>${container.lib.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>com.h2database</groupId>
                  <artifactId>h2</artifactId>
                  <version>${h2.version}</version>
                  <overWrite>false</overWrite>
                  <outputDirectory>${container.lib.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>javax.servlet.jsp</groupId>
                  <artifactId>jsp-api</artifactId>
                  <version>${jsp-api.version}</version>
                  <outputDirectory>${container.lib.dir}</outputDirectory>
                </artifactItem>
                <artifactItem>
                  <groupId>org.postgresql</groupId>
                  <artifactId>postgresql</artifactId>
                  <version>${postgresql.version}</version>
                  <outputDirectory>${container.lib.dir}</outputDirectory>
                </artifactItem>
              </artifactItems>
            </configuration>
          </execution>
          <!-- Copy third party tools  wkhtmltoimage -->
          <execution>
            <id>copy-third-party-tools</id>
            <phase>package</phase>
            <goals>
              <goal>copy</goal>
            </goals>
            <configuration>
              <artifactItems>
                <artifactItem>
                   <groupId>wkhtmltopdf</groupId>
                   <artifactId>wkhtmltoimage-amd64</artifactId>
                  <version>${wkhtmltoimage.version}</version>
                  <type>tar.bz2</type>
                  <outputDirectory>${target.pentaho-server.dir}/third-party-tools/wkhtmltoimage</outputDirectory>
                  <destFileName>wkhtmltoimage_linux_amd64.tar.bz2</destFileName>
                </artifactItem>
                <artifactItem>
                 <groupId>wkhtmltopdf</groupId>
                 <artifactId>wkhtmltoimage-OSX</artifactId>
                 <version>${wkhtmltoimage.version}</version>
                 <type>tar.bz2</type>
                  <outputDirectory>${target.pentaho-server.dir}/third-party-tools/wkhtmltoimage</outputDirectory>
                  <destFileName>wkhtmltoimage_mac.tar.bz2</destFileName>
                </artifactItem>
                <artifactItem>
                  <groupId>wkhtmltopdf</groupId>
                  <artifactId>wkhtmltoimage-i386</artifactId>
                  <version>${wkhtmltoimage.version}</version>
                  <type>tar.bz2</type>
                  <outputDirectory>${target.pentaho-server.dir}/third-party-tools/wkhtmltoimage</outputDirectory>
                  <destFileName>wkhtmltoimage_linux_i386.tar.bz2</destFileName>
                </artifactItem>
                <artifactItem>
                  <groupId>wkhtmltopdf</groupId>
                  <artifactId>wkhtmltox</artifactId>
                  <version>${wkhtmltox.version}</version>
                  <classifier>installer</classifier>
                  <type>exe</type>
                  <outputDirectory>${target.pentaho-server.dir}/third-party-tools/wkhtmltoimage</outputDirectory>
                  <destFileName>wkhtmltoimage_windows_installer.exe</destFileName>
                </artifactItem>
              </artifactItems>
            </configuration>
          </execution>
          <!-- Copy all the dependency defined with dependency tag into WEB-INF/lib folder -->
          <execution>
            <id>copy-dependencies</id>
            <phase>package</phase>
            <goals>
              <goal>copy-dependencies</goal>
            </goals>
            <configuration>
              <outputDirectory>${prep.pentaho.war.lib.dir}</outputDirectory>
              <excludeArtifactIds>gwt-user,jtds,h2,hsqldb,mysql-connector-java</excludeArtifactIds>
              <includeArtifactIds>barcode4j</includeArtifactIds>
            </configuration>
          </execution>
          <!-- Copying to tomcat/server/lib -->
          <execution>
            <id>copy-tomcat-server-libs</id>
            <phase>package</phase>
            <goals>
              <goal>copy-dependencies</goal>
            </goals>
            <configuration>
              <outputDirectory>${target.pentaho-server.dir}/tomcat/server/lib</outputDirectory>
              <includeArtifactIds>cglib-nodep,jaxen</includeArtifactIds>
            </configuration>
          </execution>
            <!-- Copying to pentaho-server/data/lib -->
          <execution>
            <id>copy-data-libs</id>
            <phase>package</phase>
            <goals>
              <goal>copy</goal>
            </goals>
            <configuration>
              <artifactItems>
                <artifactItem>
                  <groupId>org.hsqldb</groupId>
                  <artifactId>hsqldb</artifactId>
                  <version>${hsqldb.version}</version>
                  <overWrite>false</overWrite>
                  <outputDirectory>${target.pentaho-server.dir}/data/lib</outputDirectory>
                </artifactItem>
              </artifactItems>
            </configuration>
          </execution>
         </executions>
      </plugin>

    <plugin>
      <artifactId>maven-resources-plugin</artifactId>
      <version>3.0.1</version>
      <inherited>false</inherited>
      <executions>
        <!-- Copy content of tomcat to pentaho-server dir -->
        <execution>
          <id>copy-tomcat</id>
          <phase>package</phase>
          <goals>
            <goal>copy-resources</goal>
          </goals>
          <configuration>
            <outputDirectory>${target.pentaho-server.dir}/tomcat</outputDirectory>
            <overwrite>true</overwrite>
            <resources>
              <resource>
                <directory>${tomcat.dir}</directory>
              </resource>
            </resources>
          </configuration>
        </execution>
        <!-- [START] copy package-res and package-res-merged-server configuration
        files into assembly/target/pentaho-server -->
        <execution>
          <id>assemble-pentaho-webapp</id>
          <phase>package</phase>
          <goals>
            <goal>copy-resources</goal>
          </goals>
          <configuration>
            <outputDirectory>${target.pentaho-server.dir}</outputDirectory>
            <overwrite>true</overwrite>
            <resources>
              <resource>
                 <!--  Copy from package-res/biserver -->
                <directory>${basedir}/package-res/biserver</directory>
                <excludes>
                  <exclude>**/WEB-INF/default-object.xml</exclude>
                  <exclude>**/WEB-INF/jboss-app.xml</exclude>
                  <exclude>**/WEB-INF/jboss-portlet.xml</exclude>
                  <exclude>**/WEB-INF/jboss-web.xml</exclude>
                  <exclude>**/WEB-INF/portlet-instances.xml</exclude>
                  <exclude>/pentaho-solutions/system/default-content/samples/</exclude>                  
                </excludes>
              </resource>
              <resource>
                 <!--  Copy from package-res-merged-server/biserver -->
                <directory>${basedir}/package-res-merged-server/biserver</directory>
  
              </resource>

            </resources>
          </configuration>
        </execution>
        <!-- [END] copy package-res and package-res-merged-server configuration
        files into assembly/target/pentaho-server -->
        <!--  Copy context.xml to target/resources -->
        <execution>
          <id>copy-rdbms-context</id>
          <phase>package</phase>
          <goals>
            <goal>copy-resources</goal>
          </goals>
          <configuration>
            <outputDirectory>${target.dir}/resources/META-INF</outputDirectory>
            <overwrite>true</overwrite>
            <resources>
              <resource>
                <directory>${datasource.res.dir}/${rdbms}</directory>
                <include>**/context.xml</include>
              </resource>
            </resources>
          </configuration>
          </execution>

        <!-- Copy karaf to pentaho-solutions/system/karaf -->
        <execution>
          <id>copy-karaf</id>
          <phase>package</phase>
          <goals>
            <goal>copy-resources</goal>
          </goals>
          <configuration>
            <resources>
              <resource>
                <directory>${project.build.directory}/temp/pentaho-karaf-assembly</directory>
              </resource>
            </resources>
            <outputDirectory>${target.pentaho-server.system.dir}/karaf</outputDirectory>
          </configuration>
        </execution>
      </executions>
    </plugin>

    <!--  Creating manifest file -->
    <plugin>
      <artifactId>maven-antrun-plugin</artifactId>
      <executions>
        <execution>
          <phase>package</phase>
          <configuration>
            <target>
              <!-- Add manifest -->
              <mkdir dir="${prep.pentaho.war.dir}/META-INF" />
              <manifest file="${prep.pentaho.war.dir}/META-INF/MANIFEST.MF">
                <attribute name="Implementation-Title" value="${impl.title}" />
                <attribute name="Implementation-Version" value="${project.version}" />
                <attribute name="Implementation-Vendor" value="${impl.vendor}" />
              </manifest>
            </target>
          </configuration>
          <goals>
            <goal>run</goal>
          </goals>
        </execution>
      </executions>
    </plugin>


    <!--  Creating pentaho war -->
    <plugin>
      <artifactId>maven-war-plugin</artifactId>
      <version>2.6</version>
      <inherited>false</inherited>
      <executions>
        <execution>
            <id>pentaho-war</id>
            <phase>package</phase>
            <goals>
               <goal>war</goal>
            </goals>
            <configuration>
               <webResources>
                  <resource>
                    <directory>${target.dir}/resources</directory>
                    <includes>
                      <include>**/context.xml</include>
                    </includes>
                  </resource>
                </webResources>
                <archive>
                  <addMavenDescriptor>false</addMavenDescriptor>
                  <manifestFile>${prep.pentaho.war.dir}/META-INF/MANIFEST.MF</manifestFile>
                </archive>
                <warName>pentaho</warName>
                <webXml>${prep.pentaho.war.dir}/WEB-INF/web.xml</webXml>
                <webappDirectory>${prep.pentaho.war.dir}</webappDirectory>
                <outputDirectory>${target.dir}</outputDirectory>
              </configuration>
           </execution>
           <!--  Creating pentahostyle war -->
           <execution>
            <id>pentaho-style-war</id>
            <phase>package</phase>
            <goals>
               <goal>war</goal>
            </goals>
            <configuration>
                <archive>
                  <addMavenDescriptor>false</addMavenDescriptor>
                </archive>
                <warName>pentaho-style</warName>
                <webXml>${prep.pentaho.style.war.dir}/WEB-INF/web.xml</webXml>
                <webappDirectory>${prep.pentaho.style.war.dir}</webappDirectory>
                <outputDirectory>${target.dir}</outputDirectory>
              </configuration>
           </execution>
         </executions>
    </plugin>

      <plugin>
        <groupId>com.google.code.maven-replacer-plugin</groupId>
        <artifactId>replacer</artifactId>
        <version>${replacer.version}</version>
        <inherited>false</inherited>
        <executions>
        <!-- modify tomcat/conf/server.xml for UTF-8 support -->
          <execution>
            <id>replace-tomcat-tokens-server-xml</id>
            <phase>package</phase>
            <goals>
              <goal>replace</goal>
            </goals>
            <configuration>
              <file>${target.pentaho-server.dir}/tomcat/conf/server.xml</file>
              <token>&lt;Connector</token>
              <value>&lt;Connector URIEncoding=&quot;UTF-8&quot;</value>
            </configuration>
          </execution>
          <!-- modify the tomcat/conf/context.xml to disable session persistence between restarts -->
          <execution>
            <id>replace-tomcat-regex-context-xml</id>
            <phase>package</phase>
            <goals>
              <goal>replace</goal>
            </goals>
            <configuration>
              <file>${target.pentaho-server.dir}/tomcat/conf/context.xml</file>
              <token>\&lt;!--[ \r\n\t]*(\&lt;Manager[ ]*pathname=.*)[ \r\n\t]*--\&gt;</token>
              <value>\1</value>
            </configuration>
          </execution>
        </executions>
      </plugin>
      
    <plugin>
      <artifactId>maven-assembly-plugin</artifactId>
      <version>${maven-assembly-plugin.version}</version>
      <inherited>false</inherited>
      <executions>
        <execution>
          <id>distribute-pentaho-plugin-samples</id>
          <phase>package</phase>
          <goals>
            <goal>single</goal>
          </goals>
          <configuration>
            <descriptors>
              <descriptor>src/main/descriptors/zip-plugin-samples.xml</descriptor>
            </descriptors>
            <finalName>plugin-samples</finalName>
            <appendAssemblyId>false</appendAssemblyId>
            <outputDirectory>${target.pentaho-server.plugins.dir}/default-content</outputDirectory>                      
          </configuration>            
        </execution>
        <execution>
          <id>distribute-pentaho-samples</id>
          <phase>package</phase>
          <goals>
            <goal>single</goal>
          </goals>
          <configuration>
            <descriptors>
              <descriptor>src/main/descriptors/zip-samples.xml</descriptor>
            </descriptors>
            <finalName>samples</finalName>
            <appendAssemblyId>false</appendAssemblyId>
            <outputDirectory>${target.pentaho-server.plugins.dir}/default-content</outputDirectory>                      
          </configuration>            
        </execution>          
      </executions>      
    </plugin>      
     
    </plugins>
  </build>

  <dependencies>
    <!-- Pentaho -->
    <dependency>
      <groupId>pentaho</groupId>
      <artifactId>pentaho-platform-extensions</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>org.apache.xbean</groupId>
          <artifactId>xbean</artifactId>
        </exclusion>
        <exclusion>
          <groupId>pentaho-reporting-engine</groupId>
          <artifactId>pentaho-reporting-engine-classic-core-test</artifactId>
        </exclusion>
        <exclusion>
        	<groupId>javax.servlet</groupId>
        	<artifactId>servlet-api</artifactId>
        </exclusion>
        <exclusion>
        	<groupId>javax.servlet</groupId>
        	<artifactId>javax.servlet-api</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.safehaus.jug</groupId>
          <artifactId>jug-lgpl</artifactId>
        </exclusion>
        <exclusion>
          <groupId>jcifs</groupId>
          <artifactId>jcifs</artifactId>
        </exclusion>
        <exclusion>
          <groupId>concurrent</groupId>
          <artifactId>concurrent</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.apache.xmlgraphics</groupId>
          <artifactId>batik-js</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.osgi</groupId>
          <artifactId>org.osgi.core</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.glassfish</groupId>
          <artifactId>javax.servlet</artifactId>
        </exclusion>
        <exclusion>
          <groupId>xml-apis</groupId>
          <artifactId>xml-apis</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.apache.ant</groupId>
          <artifactId>ant</artifactId>
        </exclusion>
        <!-- CM-241 -->
        <exclusion>
          <groupId>cglib</groupId>
          <artifactId>cglib</artifactId>
        </exclusion>
        <exclusion>
          <groupId>javax.validation</groupId>
          <artifactId>validation-api</artifactId>
        </exclusion>
        <exclusion>
          <groupId>javax.validation</groupId>
          <artifactId>validation-api</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.hsqldb</groupId>
          <artifactId>hsqldb</artifactId>
        </exclusion>
      </exclusions>
    </dependency>

    <!-- Pentaho commons -->
    <dependency>
      <groupId>pentaho</groupId>
      <artifactId>pentaho-database-model</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>

    <!--  Reporting -->
    <!-- NOTE: this reporting plugin jar will be removed once the reporting plugin is 3.5 plugin compliant -->
    
    <dependency>
      <groupId>pentaho-reporting-engine</groupId>
      <artifactId>pentaho-reporting-engine-classic-core-platform-plugin</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>pentaho-reporting-engine</groupId>
          <artifactId>pentaho-reporting-engine-classic-core-test</artifactId>
        </exclusion>
        <exclusion>
          <groupId>pentaho</groupId>
          <artifactId>pentaho-platform-extensions</artifactId>
        </exclusion>
        <exclusion>
          <groupId>pentaho</groupId>
          <artifactId>pentaho-platform-api</artifactId>
        </exclusion>
        <exclusion>
          <groupId>pentaho</groupId>
          <artifactId>pentaho-platform-core</artifactId>
        </exclusion>
        <exclusion>
          <groupId>pentaho</groupId>
          <artifactId>pentaho-platform-scheduler</artifactId>
        </exclusion>
        <exclusion>
          <groupId>pentaho</groupId>
          <artifactId>pentaho-platform-repository</artifactId>
        </exclusion>
        <exclusion>
        	<groupId>javax.servlet</groupId>
        	<artifactId>servlet-api</artifactId>
        </exclusion>
        <exclusion>
          <groupId>javax.ws.rs</groupId>
          <artifactId>javax.ws.rs-api</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    
    <dependency>
      <groupId>pentaho-reporting-engine</groupId>
      <artifactId>pentaho-reporting-engine-classic-core</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>pentaho-reporting-engine</groupId>
          <artifactId>pentaho-reporting-engine-classic-core-test</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>pentaho-reporting-engine</groupId>
      <artifactId>pentaho-reporting-engine-classic-extensions</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>pentaho-reporting-engine</groupId>
          <artifactId>pentaho-reporting-engine-classic-core-test</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>pentaho-library</groupId>
      <artifactId>libserializer</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
  
    <!-- Miscellaneous -->
    <dependency>
      <groupId>org.owasp.encoder</groupId>
      <artifactId>encoder</artifactId>
      <version>${owasp.encoder.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.axis</groupId>
      <artifactId>axis</artifactId>
      <version>${axis.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>org.apache.xmlgraphics</groupId>
      <artifactId>batik-bridge</artifactId>
      <version>${batik.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>bsf</groupId>
      <artifactId>bsf</artifactId>
      <version>${bsf.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.netbeans</groupId>
      <artifactId>mdrjdbc</artifactId>
      <version>${mdrjdbc.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>org.beanshell</groupId>
      <artifactId>bsh</artifactId>
      <version>${bsh.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>com.ibm.icu</groupId>
      <artifactId>icu4j</artifactId>
      <version>${icu4j.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>com.ibm.icu</groupId>
      <artifactId>icu4j-charset</artifactId>
      <version>${icu4j.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>pentaho</groupId>
      <artifactId>pentaho-capability-manager</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>commons-logging</groupId>
      <artifactId>commons-logging</artifactId>
      <version>${commons-logging.version}</version>
      <scope>compile</scope>
    </dependency>
        
   
    <!-- Metro -->
    <dependency>
      <groupId>org.glassfish.metro</groupId>
      <artifactId>webservices-api</artifactId>
      <version>${webservices.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.glassfish.metro</groupId>
      <artifactId>webservices-rt</artifactId>
      <version>${webservices.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>

    <!-- Commons -->
    <dependency>
      <groupId>commons-beanutils</groupId>
      <artifactId>commons-beanutils</artifactId>
      <version>${commons-beanutils.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>commons-beanutils</groupId>
      <artifactId>commons-beanutils-core</artifactId>
      <version>${commons-beanutils.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>commons-cli</groupId>
      <artifactId>commons-cli</artifactId>
      <version>${commons-cli.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>commons-digester</groupId>
      <artifactId>commons-digester</artifactId>
      <version>${commons-digester.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>commons-discovery</groupId>
      <artifactId>commons-discovery</artifactId>
      <version>${commons-discovery.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>commons-jxpath</groupId>
      <artifactId>commons-jxpath</artifactId>
      <version>${commons-jxpath.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>jakarta-regexp</groupId>
      <artifactId>jakarta-regexp</artifactId>
      <version>${jakarta-regexp.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>javax.xml</groupId>
      <artifactId>jaxrpc-api</artifactId>
      <version>${jaxrpc-api.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>jcommon-logging-log4jlog</groupId>
      <artifactId>jcommon-logging-log4jlog</artifactId>
      <version>${jcommon-logging-log4jlog.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>joda-time</groupId>
      <artifactId>joda-time</artifactId>
      <version>${joda-time.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>commons-math</groupId>
      <artifactId>commons-math</artifactId>
      <version>${commons-math.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
      <version>${slf4j-log4j12.version}</version>
      <scope>compile</scope>
    </dependency>
    
    
    <!-- Saxon -->
    <dependency>
      <groupId>net.sf.saxon</groupId>
      <artifactId>saxon-jdom</artifactId>
      <version>${saxon.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>net.sf.saxon</groupId>
      <artifactId>saxon-sql</artifactId>
      <version>${saxon.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>net.sf.saxon</groupId>
      <artifactId>saxon-xom</artifactId>
      <version>${saxon.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>ognl</groupId>
      <artifactId>ognl</artifactId>
      <version>${ognl.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>soap</groupId>
      <artifactId>soap</artifactId>
      <version>${soap.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>wsdl4j</groupId>
      <artifactId>wsdl4j</artifactId>
      <version>${wsdl4j.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>org.quartz-scheduler</groupId>
      <artifactId>quartz-oracle</artifactId>
      <version>${quartz-oracle.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>pentaho</groupId>
      <artifactId>pdi-osgi-bridge-core</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>pentaho</groupId>
      <artifactId>pentaho-osgi-utils-api</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>pentaho</groupId>
      <artifactId>pentaho-metaverse-api</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>pentaho-kettle</groupId>
      <artifactId>pdi-pur-plugin</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    
    <!-- Karaf dependencies -->
    <dependency>
      <groupId>org.apache.karaf</groupId>
      <artifactId>org.apache.karaf.main</artifactId>
      <version>${org.apache.karaf.main.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.karaf.management</groupId>
      <artifactId>org.apache.karaf.management.boot</artifactId>
      <version>${org.apache.karaf.management.boot.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.karaf.jaas</groupId>
      <artifactId>org.apache.karaf.jaas.boot</artifactId>
      <version>${org.apache.karaf.jaas.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.karaf.jaas</groupId>
      <artifactId>org.apache.karaf.jaas.modules</artifactId>
      <version>${org.apache.karaf.jaas.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.karaf.jaas</groupId>
      <artifactId>org.apache.karaf.jaas.config</artifactId>
      <version>${org.apache.karaf.jaas.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.karaf</groupId>
      <artifactId>org.apache.karaf.util</artifactId>
      <version>${org.apache.karaf.main.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.felix</groupId>
      <artifactId>org.apache.felix.main</artifactId>
      <version>${org.apache.felix.main.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.felix</groupId>
      <artifactId>org.apache.felix.http.api</artifactId>
      <version>${org.apache.felix.http.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.felix</groupId>
      <artifactId>org.apache.felix.http.base</artifactId>
      <version>${org.apache.felix.http.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.felix</groupId>
      <artifactId>org.apache.felix.utils</artifactId>
      <version>${org.apache.felix.utils.version}</version>
      <exclusions>
        <exclusion>
          <groupId>org.osgi</groupId>
          <artifactId>org.osgi.core</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.felix</groupId>
      <artifactId>org.apache.felix.http.proxy</artifactId>
      <version>${org.apache.felix.http.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.felix</groupId>
      <artifactId>org.apache.felix.fileinstall</artifactId>
      <version>${org.apache.felix.fileinstall.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.apache.felix</groupId>
      <artifactId>org.apache.felix.framework</artifactId>
      <version>${org.apache.felix.framework.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.osgi</groupId>
      <artifactId>org.osgi.compendium</artifactId>
      <version>${org.osgi.compendium.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>pentaho</groupId>
      <artifactId>pentaho-proxy-factory</artifactId>
      <version>${project.version}</version>
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>pentaho.weka</groupId>
      <artifactId>pdm-ce</artifactId>
      <version>${weka.version}</version>
      <scope>compile</scope>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>

    <!-- Tomcat dependencies -->
    <dependency>
      <groupId>cglib</groupId>
      <artifactId>cglib-nodep</artifactId>
      <version>${cglib.version}</version>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>jaxen</groupId>
      <artifactId>jaxen</artifactId>
      <version>${jaxen.version}</version>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>net.sf.barcode4j</groupId>
      <artifactId>barcode4j</artifactId>
      <version>${barcode4j.version}</version>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
     </dependency>
     <dependency>
      <groupId>javax.xml.soap</groupId>
      <artifactId>saaj-api</artifactId>
      <version>${saaj.version}</version>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
     </dependency>
     <dependency>
      <groupId>com.sun.xml.messaging.saaj</groupId>
      <artifactId>saaj-impl</artifactId>
      <version>${saaj.version}</version>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
     </dependency>
    <dependency>
      <groupId>com.sun.xml.stream</groupId>
      <artifactId>sjsxp</artifactId>
      <version>${sjsxp.version}</version>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
     </dependency>
    <dependency>
      <groupId>org.xerial.snappy</groupId>
      <artifactId>snappy-java</artifactId>
      <version>${snappy-java.version}</version>
      <exclusions>
        <exclusion>
          <groupId>*</groupId>
          <artifactId>*</artifactId>
        </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>wsdl4j</groupId>
        <artifactId>wsdl4j-qname</artifactId>
        <version>${wsdl4j-qname.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
    <dependency>
        <groupId>org.eobjects.sassyreader</groupId>
        <artifactId>SassyReader</artifactId>
        <version>${sassyreader.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>avalon-framework</groupId>
        <artifactId>avalon-framework</artifactId>
        <version>${avalon.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>org.mnode.mstor</groupId>
        <artifactId>mstor</artifactId>
        <version>${mstor.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>com.googlecode.jsendnsca</groupId>
        <artifactId>jsendnsca</artifactId>
        <version>${jsendnsca.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>org.apache.xmlgraphics</groupId>
        <artifactId>batik-gui-util</artifactId>
        <version>${batik.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>bouncycastle</groupId>
        <artifactId>bcmail-jdk14</artifactId>
        <version>${bcmail.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>net.sourceforge.barbecue</groupId>
        <artifactId>barbecue</artifactId>
        <version>${barbecue.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>org.eclipse.core</groupId>
        <artifactId>commands</artifactId>
        <version>${commands.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
      </dependency>
      <dependency>
        <groupId>com.lowagie</groupId>
        <artifactId>itext</artifactId>
        <version>${itext.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>javax.jws</groupId>
        <artifactId>jsr181-api</artifactId>
        <version>${jsr181-api.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>org.jvnet.staxex</groupId>
        <artifactId>stax-ex</artifactId>
        <version>${stax-ex.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>org.w3c.css</groupId>
        <artifactId>sac</artifactId>
        <version>${sac.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>com.sun.org.apache.xml.internal</groupId>
        <artifactId>resolver</artifactId>
        <version>${resolver.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>org.fife.ui</groupId>
        <artifactId>rsyntaxtextarea</artifactId>
        <version>${rsyntaxtextarea.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
    <dependency>
      <groupId>pentaho-library</groupId>
      <artifactId>libpixie</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>pentaho-library</groupId>
      <artifactId>libsparkline</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>pentaho-kettle</groupId>
      <artifactId>kettle5-log4j-plugin</artifactId>
      <version>${project.version}</version>
    </dependency>
     <dependency>
        <groupId>xalan</groupId>
        <artifactId>serializer</artifactId>
        <version>${xalan.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>xalan</groupId>
        <artifactId>xalan</artifactId>
        <version>${xalan.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
     <dependency>
        <groupId>org.apache.xmlgraphics</groupId>
        <artifactId>xmlgraphics-commons</artifactId>
        <version>${xmlgraphics-commons.version}</version>
        <exclusions>
          <exclusion>
            <groupId>*</groupId>
            <artifactId>*</artifactId>
          </exclusion>
      </exclusions>
     </dependency>
  </dependencies>
  
  <dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>asm</groupId>
            <artifactId>asm-attrs</artifactId>
            <version>${asm-attrs.version}</version>
        </dependency>
      <dependency>
        <groupId>org.codehaus.jackson</groupId>
        <artifactId>jackson-mapper-asl</artifactId>
        <version>${jackson.mapper.version}</version>
      </dependency>
      <dependency>
        <groupId>com.sun.xml.bind</groupId>
        <artifactId>jaxb-impl</artifactId>
        <version>${jaxb-impl.version}</version>
      </dependency>
      <dependency>
        <groupId>jaxen</groupId>
        <artifactId>jaxen</artifactId>
        <version>${jaxen.version}</version>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>jcl-over-slf4j</artifactId>
        <version>${jcl-over-slf4j.version}</version>
      </dependency>
      <dependency>
        <groupId>rhino</groupId>
        <artifactId>js</artifactId>
        <version>${js.version}</version>
      </dependency>
      <dependency>
        <groupId>commons-httpclient</groupId>
        <artifactId>commons-httpclient</artifactId>
        <version>${commons-httpclient.version}</version>
      </dependency>
      <dependency>
        <groupId>commons-io</groupId>
        <artifactId>commons-io</artifactId>
        <version>${commons-io.version}</version>
      </dependency>
      <dependency>
        <groupId>commons-lang</groupId>
        <artifactId>commons-lang</artifactId>
        <version>${commons-lang.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.geronimo.specs</groupId>
        <artifactId>geronimo-stax-api_1.0_spec</artifactId>
        <version>${geronimo-stax-api_1.0_spec.version}</version>
      </dependency>
      <dependency>
        <groupId>com.healthmarketscience.jackcess</groupId>
        <artifactId>jackcess</artifactId>
        <version>${jackcess.version}</version>
      </dependency>
      <dependency>
        <groupId>org.codehaus.jackson</groupId>
        <artifactId>jackson-core-asl</artifactId>
        <version>${jackson.core.version}</version>
      </dependency>
      <dependency>
        <groupId>com.thoughtworks.xstream</groupId>
        <artifactId>xstream</artifactId>
        <version>${xstream.version}</version>
      </dependency>
      <dependency>
        <groupId>javax.mail</groupId>
        <artifactId>mail</artifactId>
        <version>${mail.version}</version>
      </dependency>
      <dependency>
        <groupId>log4j</groupId>
        <artifactId>log4j</artifactId>
        <version>${log4j.version}</version>
      </dependency>
      <dependency>
        <groupId>org.codehaus.jettison</groupId>
        <artifactId>jettison</artifactId>
        <version>${jettison.version}</version>
      </dependency>
      <dependency>
        <groupId>monetdb</groupId>
        <artifactId>monetdb-jdbc</artifactId>
        <version>${monetdb-jdbc.version}</version>
      </dependency>
      <dependency>
        <groupId>net.sourceforge.nekohtml</groupId>
        <artifactId>nekohtml</artifactId>
        <version>${nekohtml.version}</version>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-api</artifactId>
        <version>${slf4j-api.version}</version>
      </dependency>
      <dependency>
        <groupId>org.yaml</groupId>
        <artifactId>snakeyaml</artifactId>
        <version>${snakeyaml.version}</version>
      </dependency>
      <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-ehcache</artifactId>
        <version>${hibernate-ehcache.version}</version>
      </dependency>
      <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-expression</artifactId>
        <version>${spring.framework.version}</version>
      </dependency>
      <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-context-support</artifactId>
        <version>${spring.framework.version}</version>
      </dependency>
      <dependency>
        <groupId>javax.xml.stream</groupId>
        <artifactId>stax-api</artifactId>
       <version>${stax-api.version}</version>
      </dependency>
    </dependencies>
  </dependencyManagement>
</project>
